$(document).ready(function(){if('input[name="Ads[cover]"]'.length){var e=$('input[name="Ads[cover]"]').val();e.length&&setTimeout(function(){$.each($(".file-preview-image"),function(){var t=$(this).attr("src");console.log(t),console.log(e),t==e&&$(this).closest(".file-preview-frame").css("box-shadow","1px 1px 5px 0 #f34942")})},1e3)}function t(e){$.ajax({type:"POST",url:"/site/filter_search_count",data:search(),success:function(t){null==e?($(".parentCategoryFieldsFilter").append('<div id="jsfilter_ajax_cont"> <div id="sel_block_arrow"></div>Найдено объявлений: <span id="jsfilter_ajax_output">'+t+'</span>. <a class="filterSearchView" href="#">Показать</a> </div>'),$("#jsfilter_ajax_cont").show("slow")):($(e).append('<div id="jsfilter_ajax_cont"> <div id="sel_block_arrow"></div>Найдено объявлений: <span id="jsfilter_ajax_output">'+t+'</span>. <a class="filterSearchView"  href="#">Показать</a> </div>'),$("#jsfilter_ajax_cont").show("slow"))}})}$(document).on("click",".file-preview-frame",function(){var e=$(this).find(".file-preview-image"),t=e.attr("title");console.log(e),console.log(t),$(this).css("box-shadow","1px 1px 5px 0 #f34942"),$(".file-preview-frame").not($(this)).css("box-shadow","1px 1px 5px 0 #a2958a"),void 0===t?$('input[name="Ads[cover]"]').val(e.attr("src")):$('input[name="Ads[cover]"]').val(t)}),$(document).on("click",".commercial__category-list li",function(){var e=$(this).data("id");$("input[name='mainCat']").val(e),$.ajax({url:"/board/default/get-children-category",type:"POST",data:{catId:$(this).attr("data-id")},success:function(e){$(".commercial__sidebar-filter--children-category").html(e),console.log(e)}})}),$(document).on("change",".childrenCategorySelect",function(){$(this).nextAll().remove(),$.ajax({url:"/board/default/get-children-category",type:"POST",data:{catId:$(this).val()},success:function(e){$(".commercial__sidebar-filter--children-category").append(e),console.log(e)}})}),$(".region").click(function(e){var t=$(this).next(".region-list");return t.is(":visible")&&$(".city-list").hide("slow"),t.slideToggle(),!1}),$(".russia").click(function(e){return $(this).next(".russia-list").slideToggle(),!1}),$(".city").click(function(e){var t=$(this).next(".city-list");$(".region-list").hide("slow"),t.is(":visible")?t.hide("slow"):t.slideToggle()}),jQuery(function(e){e(document).mouseup(function(t){var i=e(".city");i.is(t.target)||0!==i.has(t.target).length||e(".city-list").hide("slow")})}),$(document).on("click",".searchForm",function(){return document.getElementById("filterform").submit(),!1}),$(document).on("change",".textSearch",function(){var e=$(this).val();$("input[name='textFilter']").val(e)}),$(".selectRegion").click(function(){var e=$(this).closest(".region-list").next(".city"),t=$(this).closest(".region-list").next(".city").find(".city-list"),i=$(this).attr("reg-id"),a=$(this).text();return $("input[name='cityFilter']").val(""),$(".textSelectCity").text("Выберите город"),$(".textSelectRegion").text(a),$('input[name="regionFilter"]').val(i),e.css({display:"inline-block"}),t.slideToggle(),$(".region-list").css({display:"none"}),$.ajax({type:"POST",url:"/board/default/show-city-list",data:"id="+i,success:function(e){$(".city-list").html(e),$(".city").css({display:"inline-block"}),$(".city-list").slideToggle(),$(".region-list").css({display:"none"})}}),!1}),$(document).on("click",".selectCity",function(){var e=$(this).attr("city-id"),t=$(this).text();return $("input[name='cityFilter']").val(e),$(".textSelectCity").text(t),$(".city").css({display:"inline-block"}),$(".region-list").css({display:"none"}),!1}),$(function(){var e=parseInt($("input[name='minPrice']").val(),10),t=parseInt($("input[name='maxPrice']").val(),10),i=$("input[name='minPrice']").attr("selprice"),a=parseInt($("input[name='maxPrice']").attr("selprice"),10);document.getElementById("slider_price")&&($("#slider_price").slider({range:!0,min:e,max:t,values:[i,a],slide:function(e,t){$("#price").val(t.values[0]),$("#price2").val(t.values[1])},stop:function(e,t){$("input[name='minPrice']").val(t.values[0]).change(),$("input[name='maxPrice']").val(t.values[1]).change()}}),$("#price").val($("#slider_price").slider("values",0)),$("#price2").val($("#slider_price").slider("values",1)))}),$("#price").change(function(){var e=$(this).val(),i=$(this).closest("div");$("#slider_price").slider("values",0,e),t(i)}),$("#price2").change(function(){var e=$(this).val(),i=$(this).closest("div");$("#slider_price").slider("values",1,e),t(i)}),$(document).on("focusin",".jsHint",function(){$(this).parent().children(".memo").fadeIn()}),$(document).on("focusout",".jsHint",function(){$(this).parent().children(".memo").fadeOut()}),$(document).on("click",".select-category-add",function(){$.ajax({type:"POST",url:"/board/default/general-modal",data:"",success:function(e){$(".modal-body,.modal-flex").html(e),$("#modalType").modal("show")}})}),$(document).on("click",".close",function(){$("#modalType").modal("hide")}),$(document).on("click",".modal-body__container",function(){var e=$(this).data("category");return $("#ads-category_id").val(e),$.ajax({type:"POST",url:"/board/default/show-category",data:"id="+e,success:function(t){t?$(".modal-body,.modal-flex").html(t):($.ajax({type:"POST",url:"/board/default/show-category-end",data:"id="+e,success:function(e){$(".SelectCategory").html(e)}}),$("#modalType").modal("hide"))}}),!1}),$(document).on("click",".heading-change",function(){$('div[data-parent="2"]').html("");var e=$(this).data("category"),t=$(this).parent().parent().data("parent");return 0==t&&$(".heading-change").removeClass("active"),1==t&&$('div[data-parent="1"] .heading-change').removeClass("active"),$(this).addClass("active"),$("#ads-category_id").val(e),$.ajax({type:"POST",url:"/board/default/show-parent-modal-category",data:"id="+e,success:function(i){i?(0==t&&$('div[data-parent="1"]').html(i),1==t&&$('div[data-parent="2"]').html(i)):($.ajax({type:"POST",url:"/board/default/show-category-end",data:"id="+e,success:function(e){$(".SelectCategory").html(e)}}),$("#modalType").modal("hide"),$.ajax({type:"POST",url:"/board/default/show-additional-fields",data:"id="+e,success:function(e){console.log(e),$("#additional_fields").html(e)}}))}}),!1}),$(document).on("click","#dannie-1",function(){$(this).prop("checked")?$(".place-ad__publish").prop("disabled",!1):$(".place-ad__publish").prop("disabled",!0)})});